<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.0" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="Zhangyh&apos;s Blog">
<meta name="keywords" content="Zhangyh">
<meta property="og:type" content="website">
<meta property="og:title" content="categories">
<meta property="og:url" content="http://yoursite.com/categories/index.html">
<meta property="og:site_name" content="怀念青春">
<meta property="og:description" content="Zhangyh&apos;s Blog">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-06-11T01:06:44.189Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="categories">
<meta name="twitter:description" content="Zhangyh&apos;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/categories/">





  <title>怀念青春</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">怀念青春</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/05/istio服务网格/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/05/istio服务网格/" itemprop="url">Istio服务网格</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-05T00:38:36+08:00">2019-06-05</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Istio/" itemprop="url" rel="index">
                    <span itemprop="name">Istio</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="istio服务网格-Service-Mesh"><a href="#istio服务网格-Service-Mesh" class="headerlink" title="istio服务网格[Service Mesh]"></a>istio服务网格[Service Mesh]</h3><p><a href="https://istio.io/zh/docs/concepts/what-is-istio/" target="_blank" rel="noopener">Istio官网介绍</a></p>
<h4 id="官方架构图"><a href="#官方架构图" class="headerlink" title="官方架构图"></a>官方架构图</h4><p><img src="http://www.etcunion.com/static/istio-arch.svg" alt="istio架构图"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/28/consul-API操作总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/28/consul-API操作总结/" itemprop="url">consul-API操作总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-28T00:38:36+08:00">2019-05-28</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="案例一-kv-delete："><a href="#案例一-kv-delete：" class="headerlink" title="案例一 kv.delete："></a>案例一 kv.delete：</h4><pre><code>conn.kv.delete(key = &apos;deploy/deployGroup/media/info&apos;, recurse = True)
- 如果info是key且存在，则会删除info*的所有key,media目录保留；
  如果info是key且不存在，则无操作,media目录保留
- 如果info是目录且存在，则会删除info*的所有key和目录,media目录保留；
  如果info是目录且不存在，则无操作,media目录保留</code></pre><h4 id="总结一-kv-delete："><a href="#总结一-kv-delete：" class="headerlink" title="总结一 kv.delete："></a>总结一 kv.delete：</h4><ol>
<li><p>recurse,目录递归参数</p>
<ul>
<li>删除目录时True  xxx*  匹配删除</li>
<li>删除key时False  xxx   匹配删除</li>
</ul>
</li>
<li><p>key, 删除指定的kv值</p>
<ul>
<li>目录 xxx/yyy/</li>
<li>key  xxx/yyy</li>
</ul>
</li>
<li><p>二者的关系(已测试)</p>
<ul>
<li>如果删除key 时recurse = True，会删除父级目录及所有key</li>
<li>如果删除目录时recurse = True，会删除目录</li>
<li>如果删除 key时recurse = False，会删除key</li>
<li>如果删除目录时recurse = False，无操作</li>
</ul>
</li>
<li><p>总结：</p>
<ul>
<li>删除key，末尾不带/, recurse = False(匹配上删除key,  匹配不上无操作)</li>
<li>删除目录,末尾带/,   recurse = True (匹配上删除目录, 匹配不上无操作)</li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/09/vsCode使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/09/vsCode使用/" itemprop="url">vsCode使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-09T00:38:36+08:00">2019-05-09</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vscode/" itemprop="url" rel="index">
                    <span itemprop="name">vscode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="settings-json"><a href="#settings-json" class="headerlink" title="settings.json:"></a>settings.json:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"workbench.colorTheme"</span>: <span class="string">"Default Light+"</span>, <span class="comment">#设置主题</span></span><br><span class="line">    <span class="string">"vetur.validation.template"</span>: false,</span><br><span class="line">    <span class="string">"python.autoComplete.addBrackets"</span>: true,</span><br><span class="line">    <span class="string">"window.title"</span>: <span class="string">"$&#123;activeEditorLong&#125;"</span>,    <span class="comment">#设置vscode title为当前文件的完整路径</span></span><br><span class="line">    <span class="string">"workbench.editor.showTabs"</span>: true,        <span class="comment">#开启标签</span></span><br><span class="line">    <span class="string">"workbench.editor.enablePreview"</span>: false   <span class="comment">#关闭预览，不覆盖标签</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><del>待续</del></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/17/python-markdown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/17/python-markdown/" itemprop="url">python-markdown</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-17T00:38:36+08:00">2019-04-17</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="install"><a href="#install" class="headerlink" title="install"></a>install</h4><pre><code>pip install markdown</code></pre><h4 id="useage"><a href="#useage" class="headerlink" title="useage"></a>useage</h4><p>:joy: <a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">https://www.webfx.com/tools/emoji-cheat-sheet/</a><br>:star:<br>:sparkles:<br>:star2:<br>:earth_asia:<br>:cn:<br>:one:<br>:u7981:<br>:x:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shell:</span><br><span class="line">    markdown_py -o html -x nl2br -x tables -x fenced_code -x abbr python-syntax.md -f python-syntax.html</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">python:</span><br><span class="line">    <span class="keyword">import</span> codecs, markdown</span><br><span class="line">    <span class="keyword">from</span> markdown.extensions.abbr <span class="keyword">import</span> AbbrExtension</span><br><span class="line">    <span class="keyword">from</span> markdown.extensions.fenced_code <span class="keyword">import</span> FencedCodeExtension</span><br><span class="line">    </span><br><span class="line">    input_file = codecs.open(<span class="string">"some_file.md"</span>, mode=<span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line">    text = input_file.read()</span><br><span class="line">    </span><br><span class="line">    html = markdown.markdown(text, extensions=[<span class="string">'nl2br'</span>, <span class="string">'fenced_code'</span>])</span><br><span class="line">    </span><br><span class="line">    output_file = codecs.open(<span class="string">"some_file.html"</span>, mode=<span class="string">"w"</span>, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line">    output_file.write(html)</span><br></pre></td></tr></table></figure>

<h4 id="supported-extensions"><a href="#supported-extensions" class="headerlink" title="supported-extensions:"></a>supported-extensions:</h4><pre><code>https://python-markdown.github.io/extensions/#officially-supported-extensions</code></pre><ul>
<li>Extra                    extra       markdown.extensions.extra<ul>
<li>Abbreviations        abbr        markdown.extensions.abbr</li>
<li>Attribute Lists        attr_list    markdown.extensions.attr_list</li>
<li>Definition Lists    def_list    markdown.extensions.def_list</li>
<li>Fenced Code Blocks    fenced_code    markdown.extensions.fenced_code</li>
<li>Footnotes            footnotes    markdown.extensions.footnotes</li>
<li>Tables                tables        markdown.extensions.tables</li>
</ul>
</li>
<li>Admonition            admonition    markdown.extensions.admonition</li>
<li>CodeHilite            codehilite    markdown.extensions.codehilite</li>
<li>Legacy                Attributes    legacy_attr    markdown.extensions.legacy_attr</li>
<li>Legacy Emphasis        legacy_em    markdown.extensions.legacy_em</li>
<li>Meta-Data                meta        markdown.extensions.meta</li>
<li>New Line to Break        nl2br        markdown.extensions.nl2br</li>
<li>Sane Lists            sane_lists    markdown.extensions.sane_lists</li>
<li>SmartyPants            smarty        markdown.extensions.smarty</li>
<li>Table of Contents        toc            markdown.extensions.toc</li>
<li>WikiLinks                wikilinks    markdown.extensions.wikilinks</li>
</ul>
<h4 id="doc"><a href="#doc" class="headerlink" title="doc"></a>doc</h4><pre><code>https://python-markdown.github.io/cli/
https://python-markdown.github.io/extensions/
https://github.com/Python-Markdown/markdown/wiki/Third-Party-Extensions</code></pre><h4 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档:"></a>参考文档:</h4><pre><code>https://www.jianshu.com/p/0eff6cba1b7f</code></pre><pre><code class="完~~~~"></code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/15/django模糊匹配和大小写/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/15/django模糊匹配和大小写/" itemprop="url">django模糊匹配和大小写</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-15T00:38:36+08:00">2019-04-15</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="example"><a href="#example" class="headerlink" title="example:"></a>example:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Q</span><br><span class="line"><span class="keyword">if</span>(request.GET.has_key(<span class="string">'search'</span>)):</span><br><span class="line">    search = request.GET.get(<span class="string">'search'</span>)</span><br><span class="line">    logger.info(search)</span><br><span class="line">    jobs_set = models.Deploy.objects.filter(Q(deployName__contains=search) | Q(submit__icontains=search)).order_by(order_by)[offset:offset+limit]</span><br><span class="line">    total = models.Deploy.objects.filter(Q(deployName__contains=search) | Q(submit__contains=search)).count()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    logger.info(<span class="string">"NOSEARCH"</span>)</span><br><span class="line">    jobs_set = models.Deploy.objects.all().order_by(order_by)[offset:offset+limit]</span><br><span class="line">    total = models.Deploy.objects.count()</span><br></pre></td></tr></table></figure>

<h4 id="django-多个filter模糊匹配"><a href="#django-多个filter模糊匹配" class="headerlink" title="django 多个filter模糊匹配:"></a>django 多个filter模糊匹配:</h4><pre><code>.filter( Q(colName1 = search1) | Q(colName2 = search2) )</code></pre><h4 id="django-是否匹配大小写"><a href="#django-是否匹配大小写" class="headerlink" title="django 是否匹配大小写:"></a>django 是否匹配大小写:</h4><pre><code>colName1__contains = search1    #精确匹配大小写, &apos;LIKE BINARY %s&apos;
colName2__icontains = search2   #忽略大小写, &apos;LIKE %s&apos;</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/11/python高级语法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/11/python高级语法/" itemprop="url">python syntax</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-11T00:38:36+08:00">2019-04-11</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-getattr-setattr-hasattr语法"><a href="#1-getattr-setattr-hasattr语法" class="headerlink" title="1.getattr,setattr,hasattr语法"></a>1.getattr,setattr,hasattr语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._score = <span class="literal">None</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._score</span><br><span class="line"><span class="meta">    @score.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(value, int):</span><br><span class="line">            <span class="keyword">raise</span> TypeError(<span class="string">'score must integer'</span>)</span><br><span class="line">        <span class="keyword">elif</span> int(value) &lt; <span class="number">0</span> <span class="keyword">or</span> int(value) &gt; <span class="number">100</span>:</span><br><span class="line">           <span class="keyword">raise</span> ValueError(<span class="string">'score must between 0~100'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self._score = value</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">p_score</span><span class="params">(self, str)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"%s, score:%s"</span> % (str, self._score)</span><br><span class="line">        </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(s, <span class="string">'score'</span>)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(s, <span class="string">'score'</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">6</span>, <span class="keyword">in</span> score</span><br><span class="line">AttributeError: <span class="string">'Student'</span> object has no attribute <span class="string">'_score'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setattr(s, <span class="string">'age'</span>, <span class="number">20</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(s, <span class="string">'age'</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(s, <span class="string">'age'</span>)</span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="number">90</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(s, <span class="string">'score'</span>)</span><br><span class="line"><span class="number">90</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(s, <span class="string">'score'</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="comment">#### 2.property, xxxx.setter语法</span></span><br><span class="line">```python</span><br><span class="line"><span class="comment">#参考上面demo</span></span><br><span class="line">s = Student()</span><br><span class="line">s.score = <span class="number">100</span> <span class="comment">#Student类的settter:def score(self, value)</span></span><br><span class="line">s.score       <span class="comment">#Student类的getter:def score(self)</span></span><br></pre></td></tr></table></figure>

<h4 id="3-importlib语法"><a href="#3-importlib语法" class="headerlink" title="3.importlib语法"></a>3.importlib语法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">    importlib.util py3特有</span></span><br><span class="line"><span class="string">    imp            py2特有</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#动态引入</span></span><br><span class="line"><span class="comment">#importer.py</span></span><br><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dynamic_import</span><span class="params">(module)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> importlib.import_module(module)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    module = dynamic_import(<span class="string">'foo'</span>)</span><br><span class="line">    module.main()</span><br><span class="line"></span><br><span class="line">    module_two = dynamic_import(<span class="string">'bar'</span>)</span><br><span class="line">    module_two()</span><br><span class="line"></span><br><span class="line"><span class="comment">#模块引入检查</span></span><br><span class="line"><span class="keyword">import</span> importlib.util</span><br><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_module</span><span class="params">(module_name)</span>:</span></span><br><span class="line">    module_spec = importlib.util.find_spec(module_name)</span><br><span class="line">    <span class="keyword">if</span> module_spec <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        print(<span class="string">"Module :&#123;&#125; not found"</span>.format(module_name))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"Module:&#123;&#125; can be imported!"</span>.format(module_name))</span><br><span class="line">        <span class="keyword">return</span> module_spec</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">import_module_from_spec</span><span class="params">(module_spec)</span>:</span></span><br><span class="line">    module = importlib.util.module_from_spec(module_spec)</span><br><span class="line">    module_spec.loader.exec_module(module)</span><br><span class="line">    <span class="keyword">return</span> module</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    module_spec = check_module(<span class="string">"fake_module"</span>)</span><br><span class="line">    module_spec = check_module(<span class="string">"collections"</span>)</span><br><span class="line">    <span class="keyword">if</span>(module_spec):</span><br><span class="line">        module = import_module_from_spec(module_spec)</span><br><span class="line">        print(dir(module))</span><br><span class="line"></span><br><span class="line"><span class="comment">#从源文件中引入</span></span><br><span class="line"><span class="keyword">import</span> importlib.util</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">import_source</span><span class="params">(module_name)</span>:</span></span><br><span class="line">    module_file_path = module_name.__file__</span><br><span class="line">    module_name = module_name.__name__</span><br><span class="line">    </span><br><span class="line">    module_spec = importlib.util.spec_from_file_location(module_name,module_file_path)</span><br><span class="line">    module = importlib.util.module_from_spec(module_spec)</span><br><span class="line">    module_spec.loader.exec_module(module)</span><br><span class="line">    print(dir(module))</span><br><span class="line"></span><br><span class="line">    msg = <span class="string">"The &#123;module_name&#125; module has the following methods:&#123;methods&#125;"</span></span><br><span class="line">    print(msg.format(module_name = module_name,methods = dir(module)))</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">import</span> logging</span><br><span class="line">    import_source(logging)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#import_from_github_com</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> github_com.zzzeek <span class="keyword">import</span> sqlalchemy</span><br><span class="line">Collecting git+https://github.com/zzzeek/sqlalchemy</span><br><span class="line">Cloning https://github.com/zzzeek/sqlalchemy to /tmp/pip-acfv7t06-build</span><br><span class="line">Installing collected packages: SQLAlchemy</span><br><span class="line">Running setup.py install <span class="keyword">for</span> SQLAlchemy ... done</span><br><span class="line">Successfully installed SQLAlchemy<span class="number">-1.1</span><span class="number">.0</span>b1.dev0</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>locals()</span><br><span class="line">&#123;<span class="string">'__builtins__'</span>: &lt;module <span class="string">'builtins'</span> (built-<span class="keyword">in</span>)&gt;, <span class="string">'__spec__'</span>: <span class="literal">None</span>,</span><br><span class="line"><span class="string">'__package__'</span>: <span class="literal">None</span>, <span class="string">'__doc__'</span>: <span class="literal">None</span>, <span class="string">'__name__'</span>: <span class="string">'__main__'</span>,</span><br><span class="line"><span class="string">'sqlalchemy'</span>: &lt;module <span class="string">'sqlalchemy'</span> <span class="keyword">from</span> <span class="string">'/usr/local/lib/python3.5/site-packages/\</span></span><br><span class="line"><span class="string">sqlalchemy/__init__.py'</span>&gt;,</span><br><span class="line"><span class="string">'__loader__'</span>: &lt;<span class="class"><span class="keyword">class</span> '<span class="title">_frozen_importlib</span>.<span class="title">BuiltinImporter</span>'&gt;&#125;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">#<span class="title">class</span>检查</span></span><br><span class="line"><span class="class"><span class="title">def</span> <span class="title">__file_classes__</span><span class="params">(self, py_path, py_name)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">        inspect:ismodule(), isclass(), ismethod(), isfunction()</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">import</span> inspect,imp</span><br><span class="line">    mod = imp.load_source(py_name.split(<span class="string">'.'</span>)[<span class="number">0</span>], py_path + <span class="string">'/'</span> + py_name)</span><br><span class="line">    <span class="comment">#mod = importlib.import_module('commCrypt3DES')</span></span><br><span class="line">    <span class="keyword">return</span> [item <span class="keyword">for</span> item <span class="keyword">in</span> vars(mod).keys() <span class="keyword">if</span> inspect.isclass(vars(mod)[item])]</span><br></pre></td></tr></table></figure>

<h4 id="4-自定义异常"><a href="#4-自定义异常" class="headerlink" title="4.自定义异常"></a>4.自定义异常</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#参考：lib64/python2.7/site-packages/django/core/exceptions.py</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ValidationError</span><span class="params">(Exception)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, message, code=None, params=None)</span>:</span></span><br><span class="line">        <span class="string">"""The requested model field does not exist"""</span></span><br><span class="line">        super(ValidationError, self).__init__(message, code, params)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> hasattr(self, <span class="string">'error_dict'</span>):</span><br><span class="line">            <span class="keyword">for</span> field, errors <span class="keyword">in</span> self.error_dict.items():</span><br><span class="line">                <span class="keyword">yield</span> field, list(ValidationError(errors))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> error <span class="keyword">in</span> self.error_list:</span><br><span class="line">                message = error.message</span><br><span class="line">                <span class="keyword">if</span> error.params:</span><br><span class="line">                    message %= error.params</span><br><span class="line">                <span class="keyword">yield</span> force_text(message)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> hasattr(self, <span class="string">'error_dict'</span>):</span><br><span class="line">            <span class="keyword">return</span> repr(dict(self))</span><br><span class="line">        <span class="keyword">return</span> repr(list(self))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'ValidationError(%s)'</span> % self</span><br></pre></td></tr></table></figure>

<h4 id="5-sys包"><a href="#5-sys包" class="headerlink" title="5.sys包"></a>5.sys包</h4><ul>
<li>获取当前import path</li>
<li>获取当前已导入module列表</li>
<li>获取当前系统信息和版本等</li>
<li>获取当前python版本等</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">''</span>, <span class="string">'/usr/lib/python2.7/site-packages/webkit2png-0.8.3-py2.7.egg'</span>, <span class="string">'/usr/lib64/python27.zip'</span>, <span class="string">'/usr/lib64/python2.7'</span>, <span class="string">'/usr/lib64/python2.7/plat-linux2'</span>, <span class="string">'/usr/lib64/python2.7/lib-tk'</span>, <span class="string">'/usr/lib64/python2.7/lib-old'</span>, <span class="string">'/usr/lib64/python2.7/lib-dynload'</span>, <span class="string">'/usr/lib64/python2.7/site-packages'</span>, <span class="string">'/usr/lib64/python2.7/site-packages/PIL'</span>, <span class="string">'/usr/lib/python2.7/site-packages'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.modules</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="string">'Crypto.Protocol'</span>: &lt;module <span class="string">'Crypto.Protocol'</span> <span class="keyword">from</span> <span class="string">'/usr/lib64/python2.7/site-packages/Crypto/Protocol/__init__.pyc'</span>&gt;,...&#125;</span><br><span class="line"></span><br><span class="line">help(sys)</span><br><span class="line">    __stderr__ = &lt;open file <span class="string">'&lt;stderr&gt;'</span>, mode <span class="string">'w'</span>&gt;</span><br><span class="line">    __stdin__ = &lt;open file <span class="string">'&lt;stdin&gt;'</span>, mode <span class="string">'r'</span>&gt;</span><br><span class="line">    __stdout__ = &lt;open file <span class="string">'&lt;stdout&gt;'</span>, mode <span class="string">'w'</span>&gt;</span><br><span class="line">    api_version = <span class="number">1013</span></span><br><span class="line">    argv = [<span class="string">''</span>]</span><br><span class="line">    builtin_module_names = (<span class="string">'__builtin__'</span>, <span class="string">'__main__'</span>, <span class="string">'_ast'</span>, <span class="string">'_codecs'</span>, ...</span><br><span class="line">    byteorder = <span class="string">'little'</span></span><br><span class="line">    copyright = <span class="string">'Copyright (c) 2001-2013 Python Software Foundati...ematis...</span></span><br><span class="line"><span class="string">    dont_write_bytecode = False</span></span><br><span class="line"><span class="string">    exc_value = TypeError("&lt;module '</span>sys<span class="string">' (built-in)&gt; is a built-in module"...</span></span><br><span class="line"><span class="string">    exec_prefix = '</span>/us<span class="string">r'</span></span><br><span class="line"><span class="string">    executable = '</span>/usr/bin/python<span class="string">'</span></span><br><span class="line"><span class="string">    flags = sys.flags(debug=0, py3k_warning=0, division_warn...unicode=0, ...</span></span><br><span class="line"><span class="string">    float_info = sys.float_info(max=1.7976931348623157e+308, max_...epsilo...</span></span><br><span class="line"><span class="string">    float_repr_style = '</span>short<span class="string">'</span></span><br><span class="line"><span class="string">    hexversion = 34014704</span></span><br><span class="line"><span class="string">    last_value = NameError("name '</span>sys<span class="string">' is not defined",)</span></span><br><span class="line"><span class="string">    long_info = sys.long_info(bits_per_digit=30, sizeof_digit=4)</span></span><br><span class="line"><span class="string">    maxint = 9223372036854775807</span></span><br><span class="line"><span class="string">    maxsize = 9223372036854775807</span></span><br><span class="line"><span class="string">    maxunicode = 1114111</span></span><br><span class="line"><span class="string">    meta_path = []</span></span><br><span class="line"><span class="string">    modules = &#123;'</span>Crypto<span class="string">': &lt;module '</span>Crypto<span class="string">' from '</span>/usr/lib64/python2<span class="number">.7</span>/site-...</span><br><span class="line">    path = [<span class="string">''</span>, <span class="string">'/usr/lib/python2.7/site-packages/webkit2png-0.8.3-py2.7.e...</span></span><br><span class="line"><span class="string">    path_hooks = [&lt;type '</span>zipimport.zipimporte<span class="string">r'&gt;]</span></span><br><span class="line"><span class="string">    path_importer_cache = &#123;'</span><span class="string">': None, '</span>/usr/lib/python2<span class="number">.7</span>/site-packages<span class="string">': N...</span></span><br><span class="line"><span class="string">    platform = '</span>linux2<span class="string">'</span></span><br><span class="line"><span class="string">    prefix = '</span>/us<span class="string">r'</span></span><br><span class="line"><span class="string">    ps1 = '</span>&gt;&gt;&gt; <span class="string">'</span></span><br><span class="line"><span class="string">    ps2 = '</span>... <span class="string">'</span></span><br><span class="line"><span class="string">    py3kwarning = False</span></span><br><span class="line"><span class="string">    pydebug = False</span></span><br><span class="line"><span class="string">    stderr = &lt;open file '</span>&lt;stderr&gt;<span class="string">', mode '</span>w<span class="string">'&gt;</span></span><br><span class="line"><span class="string">    stdin = &lt;open file '</span>&lt;stdin&gt;<span class="string">', mode '</span><span class="string">r'&gt;</span></span><br><span class="line"><span class="string">    stdout = &lt;open file '</span>&lt;stdout&gt;<span class="string">', mode '</span>w<span class="string">'&gt;</span></span><br><span class="line"><span class="string">    subversion = ('</span>CPython<span class="string">', '</span><span class="string">', '</span><span class="string">')</span></span><br><span class="line"><span class="string">    version = '</span><span class="number">2.7</span><span class="number">.5</span> (default, Jul <span class="number">13</span> <span class="number">2018</span>, <span class="number">13</span>:<span class="number">06</span>:<span class="number">57</span>) \n[GCC <span class="number">4.8</span><span class="number">.5</span> <span class="number">2015062.</span>..</span><br><span class="line">    version_info = sys.version_info(major=<span class="number">2</span>, minor=<span class="number">7</span>, micro=<span class="number">5</span>, releaseleve...</span><br><span class="line">    warnoptions = []</span><br></pre></td></tr></table></figure>

<h4 id="6-django源码学习"><a href="#6-django源码学习" class="headerlink" title="6.django源码学习"></a>6.django源码学习</h4><pre><code>参考：http://www.cnblogs.com/richiewlq/category/1148206.html</code></pre><p><del>待续</del></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/11/win-python-qq-msg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/11/win-python-qq-msg/" itemprop="url">windown下python发送QQ消息</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-11T00:38:36+08:00">2019-04-11</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><pre><code>在window x64下python3.7.3 给已登录的QQ指定好友发送指定的消息,再结合flask转化为http模式,测试成功
遗留问题：QQ组合键发送消息测试不通过</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python                                                                                                                                                                                                                                                             </span></span><br><span class="line"><span class="comment">#-*-coding:utf-8-*-</span></span><br><span class="line"><span class="comment"># vim: tabstop=4 shiftwidth=4 softtabstop=4</span></span><br><span class="line"><span class="comment"># copyright 2019 xxxx, Inc.</span></span><br><span class="line"><span class="comment"># All Rights Reserved.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># @author: ZhangYh, xxxx, Inc.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">example:</span></span><br><span class="line"><span class="string">    https://blog.csdn.net/suzyu12345/article/details/52934328</span></span><br><span class="line"><span class="string">    http://www.cnblogs.com/417xiaoliu/p/6898419.html</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">note:</span></span><br><span class="line"><span class="string">    以前看到网上一些小程序，在处理完事物后会自动发送qq消息，但是一直搞不懂是说明原理。也在网上找过一些python登陆qq发送消息的文字，但是都太复杂了。今天偶然看到一篇文章，是用python调用win32的接口发送qq消息的，觉得不错，就先记录下来，日后肯定会用得上这些小工具。 </span></span><br><span class="line"><span class="string">发送qq消息要求已经登陆qq，而且qq的窗口是独立的，现在新版的qq一般都是将所有的聊天窗口聚合在一起，因此要设置将qq窗口分离，或者将需要发送消息的那个窗口单独分离出来。 </span></span><br><span class="line"><span class="string">上代码吧。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">useage:</span></span><br><span class="line"><span class="string">    python:</span></span><br><span class="line"><span class="string">        import requests</span></span><br><span class="line"><span class="string">        requests.post(url = 'http://192.168.1.101:5001/api/qqMsg', headers = &#123;'Content-Type' : 'application/x-www-form-urlencoded'&#125;, data = &#123;'recv_buddy' : '张三', 'message' : '来一发,v1.0.3'&#125; )</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">windows 64(专业版)</span></span><br><span class="line"><span class="string">python 3.7.3</span></span><br><span class="line"><span class="string">pip install pywin32</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">QQ9.0.1(23161)</span></span><br><span class="line"><span class="string">QQ设置：</span></span><br><span class="line"><span class="string">1.单独会话窗口模式(非合并窗口)</span></span><br><span class="line"><span class="string">2.回车发送消息(热键)</span></span><br><span class="line"><span class="string">3.已登录,并打开待发送的会话窗口</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 原理是先将需要发送的文本放到剪贴板中，然后将剪贴板内容发送到qq窗口</span></span><br><span class="line"><span class="comment"># 之后模拟按键发送enter键发送消息</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> win32gui</span><br><span class="line"><span class="keyword">import</span> win32con</span><br><span class="line"><span class="keyword">import</span> win32clipboard <span class="keyword">as</span> w</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request, Flask, redirect, url_for, render_template, Response</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> abort</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getText</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""获取剪贴板文本"""</span></span><br><span class="line">    w.OpenClipboard()</span><br><span class="line">    d = w.GetClipboardData(win32con.CF_UNICODETEXT)</span><br><span class="line">    w.CloseClipboard()</span><br><span class="line">    <span class="keyword">return</span> d</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setText</span><span class="params">(aString)</span>:</span></span><br><span class="line">    <span class="string">"""设置剪贴板文本"""</span></span><br><span class="line">    w.OpenClipboard()</span><br><span class="line">    w.EmptyClipboard()</span><br><span class="line">    w.SetClipboardData(win32con.CF_UNICODETEXT, aString)</span><br><span class="line">    w.CloseClipboard()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_qq</span><span class="params">(to_who, msg)</span>:</span></span><br><span class="line">    <span class="string">"""发送qq消息</span></span><br><span class="line"><span class="string">    to_who：qq消息接收人</span></span><br><span class="line"><span class="string">    msg：需要发送的消息</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># 将消息写到剪贴板</span></span><br><span class="line">    setText(msg)</span><br><span class="line">    <span class="comment"># 获取qq窗口句柄</span></span><br><span class="line">    qq = win32gui.FindWindow(<span class="literal">None</span>, to_who)</span><br><span class="line">    <span class="comment"># 投递剪贴板消息到QQ窗体</span></span><br><span class="line">    win32gui.SendMessage(qq, <span class="number">258</span>, <span class="number">22</span>, <span class="number">2080193</span>)</span><br><span class="line">    win32gui.SendMessage(qq, <span class="number">770</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 模拟按下回车键</span></span><br><span class="line">    win32gui.SendMessage(qq, win32con.WM_KEYDOWN, win32con.VK_RETURN, <span class="number">0</span>)</span><br><span class="line">    win32gui.SendMessage(qq, win32con.WM_KEYUP, win32con.VK_RETURN, <span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 模拟组合键: CTRL + 回车键(未成功)</span></span><br><span class="line">    <span class="comment">#win32gui.SendMessage(qq, win32con.WM_KEYDOWN, win32con.VK_CONTROL, 0)</span></span><br><span class="line">    <span class="comment">#win32gui.SendMessage(qq, win32con.WM_KEYDOWN, win32con.VK_RETURN, 0)</span></span><br><span class="line">    <span class="comment">#win32gui.SendMessage(qq, win32con.WM_KEYUP, win32con.VK_CONTROL, 0)</span></span><br><span class="line">    <span class="comment">#win32gui.SendMessage(qq, win32con.WM_KEYUP, win32con.VK_RETURN, 0)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line"><span class="comment">#to_who='哈哈哈'</span></span><br><span class="line"><span class="comment">#msg='这是测试v1.0.2'</span></span><br><span class="line"><span class="comment">#send_qq(to_who, msg)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"><span class="meta">@app.route('/index', methods = ['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> jsonify( &#123; <span class="string">"errno"</span> : <span class="number">200</span>,<span class="string">"errmsg"</span> : <span class="string">u"成功"</span> &#125; )</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/api/qqMsg', methods=['POST','GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">toQqMsq</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'POST'</span>:</span><br><span class="line">        recv_buddy = request.form.get(<span class="string">'recv_buddy'</span>, <span class="literal">None</span>)</span><br><span class="line">        message = request.form.get(<span class="string">'message'</span>, <span class="literal">None</span>)</span><br><span class="line">        </span><br><span class="line">        print(<span class="string">'recv_buddy:%s'</span> % recv_buddy)</span><br><span class="line">        print(<span class="string">'message:%s'</span> % message)</span><br><span class="line">        <span class="keyword">if</span> recv_buddy <span class="keyword">is</span>  <span class="literal">None</span> <span class="keyword">or</span> message <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> jsonify( &#123; <span class="string">"errno"</span> : <span class="number">1001</span>,<span class="string">"errmsg"</span> : <span class="string">u"参数错误"</span> &#125; )</span><br><span class="line">        send_qq(recv_buddy, message)</span><br><span class="line">        print(<span class="string">'发送到[%s] 消息内容[%s] 成功'</span> % (recv_buddy, message))</span><br><span class="line">        <span class="keyword">return</span> jsonify( &#123; <span class="string">"errno"</span> : <span class="number">200</span>,<span class="string">"errmsg"</span> : <span class="string">u"发送成功"</span> &#125; )</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        abort(<span class="number">404</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#main</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(host = <span class="string">'0.0.0.0'</span>, port = <span class="string">'5001'</span>, debug = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/18/[转]分享一些好用的Chrome扩展/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/18/[转]分享一些好用的Chrome扩展/" itemprop="url">分享一些好用的Chrome扩展</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-18T00:38:36+08:00">2019-02-18</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Chrome/" itemprop="url" rel="index">
                    <span itemprop="name">Chrome</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><pre><code>转自：https://4ark.me/post/549a6198.html 特别感谢，请勿用于商业，转载注明出处！！</code></pre><h5 id="1-XX访问助手"><a href="#1-XX访问助手" class="headerlink" title="1.XX访问助手"></a>1.XX访问助手</h5><pre><code>本来想了一波广告词来吹它，但想到…
算了，别问，问就是好用。
注：装了这个就可以访问之后介绍的扩展链接了。</code></pre><p>链接：<a href="http://www.ggfwzs.com/" target="_blank" rel="noopener">XX访问助手</a></p>
<h5 id="2-新浪微博图床"><a href="#2-新浪微博图床" class="headerlink" title="2. 新浪微博图床"></a>2. 新浪微博图床</h5><pre><code>感谢新浪微博提供的免费图床（对外链无限制），以及吊炸天的 cdn 图片加速服务，从此妈妈再也不用担心我的图床不能用了，另外还支持在网页图片右键菜单中一键上传。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E5%9B%BE%E5%BA%8A/fdfdnfpdplfbbnemmmoklbfjbhecpnhf" target="_blank" rel="noopener">新浪微博图床</a></p>
<h5 id="3-AdBlock"><a href="#3-AdBlock" class="headerlink" title="3. AdBlock"></a>3. AdBlock</h5><pre><code>最受欢迎的 Chrome 扩展，拥有超过 6000 万用户！拦截网页上的广告。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/adblock/gighmmpiobklfepjocnamgkkbiglidom" target="_blank" rel="noopener">AdBlock</a></p>
<h5 id="4-WEB-前端助手"><a href="#4-WEB-前端助手" class="headerlink" title="4. WEB 前端助手"></a>4. WEB 前端助手</h5><pre><code>前端神器，包括 JSON 格式化、二维码生成与解码、信息编解码、代码压缩、美化、页面取色、Markdown与HTML互转、网页滚动截屏、正则表达式、时间转换工具、编码规范检测、页面性能检测、Ajax接口调试、密码生成器、JSON 比对工具、网页编码设置、便签笔记。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/pkgccpejnmalmdinmhkkfafefagiiiad" target="_blank" rel="noopener">WEB 前端助手</a></p>
<h5 id="5-JSON-Viewer"><a href="#5-JSON-Viewer" class="headerlink" title="5. JSON Viewer"></a>5. JSON Viewer</h5><pre><code>前面介绍的 WEB 前端工具也有 JSON 查看工具，但是它那个太丑了，所以我用这个，内置多种主题，是我见过最好看的 JSON 查看工具。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/json-viewer/gbmdgpbipfallnflgajpaliibnhdgobh" target="_blank" rel="noopener">JSON Viewer</a></p>
<h5 id="6-Standardized-Screenshot"><a href="#6-Standardized-Screenshot" class="headerlink" title="6. Standardized Screenshot"></a>6. Standardized Screenshot</h5><pre><code>一个非常好用的截图扩展，自动加上 macOS 的标题栏、以及阴影，配合微博图床一键上传根本不用保存在本地。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/pabdhaakclnechgfhmnhkcbmjobeoope" target="_blank" rel="noopener">Standardized Screenshot</a></p>
<h5 id="7-Chromoji-Emoji"><a href="#7-Chromoji-Emoji" class="headerlink" title="7. Chromoji - Emoji"></a>7. Chromoji - Emoji</h5><pre><code>在某些系统中并不能显示 Emoji 表情，安装此扩展后就能在浏览器中显示和输入，你也能选择显示 Apple 或 Google 风格的 Emoji。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/chromoji-emoji-for-google/cahedbegdkagmcjfolhdlechbkeaieki" target="_blank" rel="noopener">Chromoji - Emoji</a></p>
<h5 id="8-Clear-Cache"><a href="#8-Clear-Cache" class="headerlink" title="8. Clear Cache"></a>8. Clear Cache</h5><pre><code>如果你是前端开发人员，调试时需要经常清空浏览器缓存，以往我们需要经过几个步骤才能完成动作，现在只需单击一下按钮即可清除缓存和浏览数据。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/clear-cache/cppjkneekbjaeellbfkmgnhonkkjfpdn" target="_blank" rel="noopener">Clear Cache</a></p>
<h5 id="9-二维码生成器"><a href="#9-二维码生成器" class="headerlink" title="9. 二维码生成器"></a>9. 二维码生成器</h5><pre><code>把当前页面或者你输入的任何内容转化成二维码，生成后的二维码可以保存，并且无需联网，谁用谁知道。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/quick-qr-code-generator/afpbjjgbdimpioenaedcjgkaigggcdpp?hl=zh-CN" target="_blank" rel="noopener">二维码生成器</a></p>
<h5 id="10-翻译侠"><a href="#10-翻译侠" class="headerlink" title="10. 翻译侠"></a>10. 翻译侠</h5><pre><code>这是我用了众多翻译扩展后最喜欢的一个，貌似之前的作者已经不再维护了，现在由网友接手，挺好的，从此不再需要打开谷歌翻译网站。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/translate-man/fnjoonbenhhijnoegpfkpagjamomgjjm/related?hl=zh-CN" target="_blank" rel="noopener">翻译侠</a></p>
<h5 id="11-图流"><a href="#11-图流" class="headerlink" title="11. 图流"></a>11. 图流</h5><pre><code>这个厉害了，你是否曾为了看图片，一张一张的点，看完一个系列手都费了，简直痛不欲生，现在，福音来了。
让我们打开知乎问题《平常人可以漂亮到什么程度？》，查看全部答案，开启图流，你会发现。
另外它还支持轮播展示，如果你经常逛一些你懂得网站，那它简直是老司机神器。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/%E5%9B%BE%E6%B5%81-%E7%9C%8B%E5%9B%BE%E5%8A%A9%E6%89%8B/gpcdnjdgomhddecjpknmfodkpkgibajh?utm_source=chrome-ntp-icon" target="_blank" rel="noopener">图流</a></p>
<h5 id="12-阅读模式"><a href="#12-阅读模式" class="headerlink" title="12. 阅读模式"></a>12. 阅读模式</h5><pre><code>提供与Safari阅读模式功能一致的插件，浏览文章页时候可进入友好的阅读模式，并自定义阅读功能。
唯一美中不足之处就是在阅读模式下无法选中文字（更不能使用划词翻译）。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/reader-view/iibolhpkjjmoepndefdmdlmbpfhlgjpl" target="_blank" rel="noopener">阅读模式</a></p>
<h5 id="13-Octotree"><a href="#13-Octotree" class="headerlink" title="13. Octotree"></a>13. Octotree</h5><pre><code>这个估计不少人知道，它可以在 GitHub 左侧显示当前项目的目录结构，能轻松找到代码的位置。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/octotree/bkhaagjahfmjljalopjnoealnfndnagc" target="_blank" rel="noopener">Octotree</a></p>
<h5 id="14-Enhanced-Github"><a href="#14-Enhanced-Github" class="headerlink" title="14. Enhanced Github"></a>14. Enhanced Github</h5><pre><code>这个可以在 GitHub 中显示仓库大小，每个文件的大小，下载链接和复制文件内容的选项。
要是能够支持单文件夹下载那就更好了。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/enhanced-github/anlikcnbgdeidpacdbdljnabclhahhmd" target="_blank" rel="noopener">Enhanced Github</a></p>
<h5 id="15-Isometric-Contributions"><a href="#15-Isometric-Contributions" class="headerlink" title="15. Isometric Contributions"></a>15. Isometric Contributions</h5><pre><code>装X神器，值得拥有。这里放上我心中的偶像 Linus 的贡献图。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/isometric-contributions/mjoedlfflcchnleknnceiplgaeoegien" target="_blank" rel="noopener">Isometric Contributions</a></p>
<h5 id="16-Git-History"><a href="#16-Git-History" class="headerlink" title="16. Git History"></a>16. Git History</h5><pre><code>这个扩展可以很炫酷地展示 GitHub 中任意一个文件的历史修改情况。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/git-history-browser-exten/laghnmifffncfonaoffcndocllegejnf" target="_blank" rel="noopener">Isometric Contributions</a></p>
<h5 id="17-Tampermonkey"><a href="#17-Tampermonkey" class="headerlink" title="17. Tampermonkey"></a>17. Tampermonkey</h5><pre><code>油猴怕是没有人不知道，它基本上是所有扩展中的佼佼者了。这里给两个可以发现好用的脚本的网站：
https://greasyfork.org/zh-CN
https://openuserjs.org/</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo" target="_blank" rel="noopener">Tampermonkey</a></p>
<h5 id="18-Stylus"><a href="#18-Stylus" class="headerlink" title="18. Stylus"></a>18. Stylus</h5><pre><code>其实类似的扩展还有 Stylish，但它会窃取用户的浏览历史（虽然某位药王说我们更愿意用隐私换便利）。
而 Stylus 就不会。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/stylus/clngdbkpkpeebahjckkjfobafhncgmne" target="_blank" rel="noopener">Stylus</a></p>
<h5 id="19-Extension-Manager"><a href="#19-Extension-Manager" class="headerlink" title="19. Extension Manager"></a>19. Extension Manager</h5><pre><code>一键管理所有扩展，快速开启/禁用、批量闪电管理，智能排序，右键卸载、锁定、选项配置，角标提醒，大小布局随心配。快捷、简单、安全。</code></pre><p>链接：<a href="https://chrome.google.com/webstore/detail/extension-manager/gjldcdngmdknpinoemndlidpcabkggco?hl=zh-CN" target="_blank" rel="noopener">Extension Manager</a></p>
<h3 id="欢迎留言补充！"><a href="#欢迎留言补充！" class="headerlink" title="欢迎留言补充！"></a>欢迎留言补充！</h3><pre><code class="完~~~">

</code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/31/django-model与SQL互转/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/31/django-model与SQL互转/" itemprop="url">django-model与SQL互转</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-31T00:38:36+08:00">2019-01-31</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="django的model与SQL互相转换"><a href="#django的model与SQL互相转换" class="headerlink" title="django的model与SQL互相转换"></a>django的model与SQL互相转换</h3><pre><code>参考：
    https://www.jianshu.com/p/d2fae133d1d4</code></pre><h4 id="安装依赖库"><a href="#安装依赖库" class="headerlink" title="安装依赖库"></a>安装依赖库</h4><pre><code>- pip install django-pyodbc-azure pyodbc
- 源码安装</code></pre><h4 id="错误一："><a href="#错误一：" class="headerlink" title="错误一："></a>错误一：</h4><pre><code>src/pyodbc.h:56:17: 致命错误：sql.h：没有那个文件或目录

解决：
    yum install unixODBC unixODBC-devel
    再重装</code></pre><h4 id="错误二："><a href="#错误二：" class="headerlink" title="错误二："></a>错误二：</h4><pre><code>django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module: No module named MySQLdb.

解决：
    pip install mysql-python</code></pre><h4 id="错误三："><a href="#错误三：" class="headerlink" title="错误三："></a>错误三：</h4><pre><code>sh: mysql_config: 未找到命令

解决：
    yum install mysql-devel</code></pre><h4 id="错误四："><a href="#错误四：" class="headerlink" title="错误四："></a>错误四：</h4><pre><code>django.db.utils.OperationalError: (1045, &quot;Access denied for user &apos;root&apos;@&apos;127.0.0.1&apos; (using password: YES)&quot;)

解决：
    开启mysql root用户密码登录，并检查`数据库用户名、密码、数据库库名配置`信息</code></pre><h4 id="配置django-databases"><a href="#配置django-databases" class="headerlink" title="配置django databases"></a>配置django databases</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    'default': &#123;</span><br><span class="line">        'ENGINE': 'django.db.backends.mysql',</span><br><span class="line">        'NAME': 'db_name',</span><br><span class="line">        'USER': 'user',</span><br><span class="line">        'PASSWORD': 'pass',</span><br><span class="line">        'HOST': '127.0.0.1',</span><br><span class="line">        'PORT': '3306'</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="SQL转model"><a href="#SQL转model" class="headerlink" title="SQL转model"></a>SQL转model</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py inspectdb &gt; ./app_name/models.py</span><br></pre></td></tr></table></figure>

<h4 id="model转SQL"><a href="#model转SQL" class="headerlink" title="model转SQL"></a>model转SQL</h4><pre><code>- django1.9不支持，只能用django命令 创建数据库更改`python manage.py makemigrations`、应用数据库`python manage.py migrate`，再用工具导出SQL
- 老版本django可以用 `python manage.py sqlall app_name`命令把model转sql</code></pre><p><del>完</del></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/21/python-ast-str2json/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="怀念青春">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/21/python-ast-str2json/" itemprop="url">python的ast模块之literal_eval妙用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-21T00:38:36+08:00">2019-01-21</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="python-ast-module"><a href="#python-ast-module" class="headerlink" title="python ast module"></a>python ast module</h4><pre><code>import ast

python解析执行的过程：
    词法分析 --&gt; 具体语法树 --&gt; 抽象语法树 --&gt; 控制流图 --&gt; 字节码 --&gt; 执行

ast提供了访问和修改上述中抽象语法树的功能
参考：
    https://zhuanlan.zhihu.com/p/21945624</code></pre><h4 id="利用ast-literal-eval-转换-字符串-到-json对象"><a href="#利用ast-literal-eval-转换-字符串-到-json对象" class="headerlink" title="利用ast.literal_eval 转换 字符串 到 json对象"></a>利用ast.literal_eval 转换 <code>字符串</code> 到 <code>json对象</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ast</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">str = <span class="string">"&#123;\"errcode\":0,\"errmsg\":\"ok\",\"invaliduser\":\"\"&#125;"</span></span><br><span class="line">dict = ast.literal_eval(str)</span><br><span class="line"></span><br><span class="line">type(str)</span><br><span class="line">&lt;type <span class="string">'str'</span>&gt;</span><br><span class="line">type(ast.literal_eval(str))</span><br><span class="line">&lt;type <span class="string">'dict'</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#request</span></span><br><span class="line">json.loads(ast.literal_eval(response.text))[<span class="string">'errcode'</span>]</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Zhangyh</p>
              <p class="site-description motion-element" itemprop="description">Zhangyh's Blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhangyh</span>

  

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.0.0</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.0"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
